<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>–ë–æ–ª—å—à–æ–π –¢–µ–∞—Ç—Ä - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Source+Sans+Pro:wght@400;600&display=swap" rel="stylesheet">
	<style>
		* { box-sizing: border-box; }
		body {
			font-family: 'Source Sans Pro', -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
			margin: 0;
			padding: 0;
			background: linear-gradient(135deg, #2d3748 0%, #1a202c 50%, #2d3748 100%);
			background-attachment: fixed;
			min-height: 100vh;
			color: #1a202c;
			position: relative;
		}
		body::before {
			content: '';
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			opacity: 0.18;
			background-image: 
				repeating-linear-gradient(90deg, transparent, transparent 98px, rgba(255,255,255,0.09) 98px, rgba(255,255,255,0.09) 100px),
				repeating-linear-gradient(0deg, transparent, transparent 98px, rgba(255,255,255,0.08) 98px, rgba(255,255,255,0.08) 100px),
				url("data:image/svg+xml,%3Csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='white' fill='none' stroke-width='1.2' opacity='1'%3E%3Cpath d='M0 100 Q50 80 100 100 T200 100'/%3E%3Cpath d='M0 100 Q50 120 100 100 T200 100'/%3E%3Cpath d='M100 0 Q80 50 100 100 T100 200' stroke-width='0.8'/%3E%3Cpath d='M100 0 Q120 50 100 100 T100 200' stroke-width='0.8'/%3E%3Ccircle cx='100' cy='100' r='30' stroke-width='0.7'/%3E%3Ccircle cx='100' cy='100' r='20' stroke-width='0.7'/%3E%3C/g%3E%3C/svg%3E");
			background-size: 100px 100px, 100px 100px, 300px 300px;
			pointer-events: none;
			z-index: 0;
		}
		body::after {
			content: '';
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			opacity: 0.15;
			background-image: 
				url("data:image/svg+xml,%3Csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='white' fill='none' stroke-width='1' opacity='1'%3E%3Cpath d='M100 10 L110 40 L140 40 L115 60 L125 90 L100 75 L75 90 L85 60 L60 40 L90 40 Z'/%3E%3Cpath d='M100 20 L105 35 L120 35 L110 45 L115 60 L100 50 L85 60 L90 45 L80 35 L95 35 Z' stroke-width='0.6'/%3E%3C/g%3E%3C/svg%3E"),
				radial-gradient(ellipse at 50% 0%, rgba(255,255,255,0.12) 0%, transparent 70%),
				radial-gradient(ellipse at 20% 50%, rgba(255,255,255,0.09) 0%, transparent 60%),
				radial-gradient(ellipse at 80% 50%, rgba(255,255,255,0.09) 0%, transparent 60%);
			background-size: 250px 250px, 100% 100%, 800px 600px, 600px 800px;
			background-position: 0 0, center top, left center, right center;
			pointer-events: none;
			z-index: 0;
		}
		.container {
			display: block;
			padding: 24px;
			max-width: 1600px;
			margin: 0 auto;
			position: relative;
			z-index: 1;
		}
		.main-tab-content {
			display: none;
		}
		.main-tab-content.active {
			display: block;
		}
		.main-tabs {
			display: flex;
			gap: 8px;
			margin-bottom: 20px;
			border-bottom: 2px solid rgba(148, 163, 184, 0.3);
		}
		.main-tab-button {
			padding: 14px 24px;
			background: transparent;
			border: none;
			border-bottom: 3px solid transparent;
			color: #94a3b8;
			font-weight: 600;
			font-size: 16px;
			cursor: pointer;
			transition: all 0.3s;
			position: relative;
		}
		.main-tab-button:hover {
			color: #e2e8f0;
			background: rgba(148, 163, 184, 0.1);
		}
		.main-tab-button.active {
			color: #cbd5e1;
			border-bottom-color: #64748b;
			background: rgba(148, 163, 184, 0.1);
		}
		.sub-tabs {
			display: flex;
			flex-wrap: wrap;
			gap: 8px;
			margin-bottom: 20px;
			border-bottom: 1px solid rgba(148, 163, 184, 0.2);
			padding-bottom: 12px;
		}
		.sub-tab-button {
			padding: 10px 16px;
			background: rgba(255,255,255,0.7);
			border: 2px solid rgba(148, 163, 184, 0.3);
			border-radius: 8px;
			color: #475569;
			font-weight: 600;
			font-size: 13px;
			cursor: pointer;
			transition: all 0.3s;
		}
		.sub-tab-button:hover {
			background: rgba(255,255,255,0.9);
			color: #1e293b;
			border-color: rgba(100, 116, 139, 0.5);
		}
		.sub-tab-button.active {
			background: rgba(148, 163, 184, 0.15);
			color: #334155;
			border-color: #64748b;
			box-shadow: 0 2px 8px rgba(100, 116, 139, 0.2);
		}
		.sub-tab-content {
			display: none;
		}
		.sub-tab-content.active {
			display: block;
		}
		.main-tab-content {
			min-height: 500px;
		}
		#sub-tab-productions, #sub-tab-stages, #sub-tab-timeslots, 
		#sub-tab-people, #sub-tab-roles, #sub-tab-person-roles,
		#sub-tab-constraints, #sub-tab-actions {
			padding: 8px 0;
		}
		.sub-tab-content > div {
			overflow-x: auto;
		}
		#productionsList, #stagesList, #timeslotsList, 
		#peopleList, #rolesList, #personProductionRolesList {
			min-height: 200px;
		}
		#productionsList > div, #stagesList > div, #peopleList > div,
		#rolesList > div, #personProductionRolesList > div {
			word-wrap: break-word;
		}
		#productionsList input, #productionsList select,
		#stagesList input, #peopleList input,
		#rolesList input, #rolesList select,
		#personProductionRolesList select {
			min-width: 100px;
			font-size: 13px;
		}
		.sub-tab-content {
			background: rgba(255, 255, 255, 0.85);
			border-radius: 12px;
			padding: 20px;
			margin-top: 12px;
		}
		#main-tab-schedule .sub-tab-content {
			background: transparent;
			padding: 0;
		}
		.left-panel-tabs {
			display: flex;
			gap: 8px;
			margin-bottom: 16px;
			border-bottom: 1px solid rgba(255, 255, 255, 0.15);
		}
		.tab-button {
			padding: 12px 20px;
			background: rgba(255,255,255,0.6);
			border: none;
			border-bottom: 3px solid transparent;
			color: #64748b;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.3s;
			font-size: 14px;
			text-transform: none;
			box-shadow: none;
			letter-spacing: 0.3px;
			border-top-left-radius: 12px;
			border-top-right-radius: 12px;
		}
		.tab-button:hover {
			background: rgba(255,255,255,0.9);
			color: #1a202c;
			transform: translateY(-2px);
		}
		.tab-button.active {
			border-bottom-color: #64748b;
			color: #334155;
			background: rgba(255,255,255,0.95);
			box-shadow: 0 4px 12px rgba(100, 116, 139, 0.2);
		}
		.tab-content {
			display: none;
		}
		.tab-content.active {
			display: block;
		}
		.collapsible-section {
			margin-bottom: 16px;
			border: none;
			border-radius: 16px;
			overflow: hidden;
			background: rgba(255,255,255,0.95);
			backdrop-filter: blur(20px);
			box-shadow: 0 8px 32px rgba(0,0,0,0.1), 0 0 0 1px rgba(148, 163, 184, 0.2) inset;
			transition: all 0.3s;
		}
		.collapsible-section:hover {
			box-shadow: 0 12px 40px rgba(100, 116, 139, 0.2), 0 0 0 1px rgba(148, 163, 184, 0.3) inset;
		}
		.collapsible-header {
			padding: 16px 20px;
			background: rgba(148, 163, 184, 0.1);
			cursor: pointer;
			display: flex;
			justify-content: space-between;
			align-items: center;
			user-select: none;
			transition: all 0.3s;
		}
		.collapsible-header:hover {
			background: rgba(148, 163, 184, 0.15);
		}
		.collapsible-header h3 {
			margin: 0;
			font-size: 18px;
			font-weight: 600;
			color: #1a202c;
		}
		.collapsible-icon {
			font-size: 18px;
			transition: transform 0.3s;
			color: #475569;
			font-weight: bold;
		}
		.collapsible-section.collapsed .collapsible-icon {
			transform: rotate(-90deg);
		}
		.collapsible-content {
			padding: 20px;
			background: rgba(255, 255, 255, 0.5);
		}
		.collapsible-section.collapsed .collapsible-content {
			display: none;
		}
		.panel {
			background: rgba(255, 255, 255, 0.98);
			border: none;
			border-radius: 24px;
			padding: 32px;
			box-shadow: 0 20px 60px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.1) inset;
			backdrop-filter: blur(20px);
		}
		.panel h2 {
			margin: 0 0 24px;
			font-family: 'Playfair Display', serif;
			font-size: 32px;
			font-weight: 700;
			color: #1e293b;
			padding-bottom: 16px;
			border-bottom: 3px solid #475569;
		}
		.panel h3 {
			margin: 24px 0 16px;
			font-family: 'Playfair Display', serif;
			font-size: 20px;
			font-weight: 600;
			color: #2d1b2d;
			letter-spacing: 0.5px;
		}
		label {
			display: block;
			font-weight: 600;
			margin-top: 16px;
			color: #334155;
			font-size: 14px;
			letter-spacing: 0.3px;
		}
		input, select {
			width: 100%;
			padding: 12px 16px;
			border: 2px solid rgba(148, 163, 184, 0.3);
			border-radius: 12px;
			font-size: 14px;
			margin-top: 6px;
			background: rgba(255, 255, 255, 0.95);
			color: #1a202c;
			transition: all 0.3s;
		}
		input:focus, select:focus {
			outline: none;
			border-color: #64748b;
			box-shadow: 0 0 0 4px rgba(100, 116, 139, 0.1), 0 4px 12px rgba(100, 116, 139, 0.1);
			background: #fff;
		}
		button {
			padding: 12px 24px;
			border-radius: 12px;
			border: none;
			background: linear-gradient(135deg, #475569 0%, #334155 100%);
			color: #fff;
			cursor: pointer;
			font-weight: 600;
			font-size: 14px;
			letter-spacing: 0.3px;
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
			box-shadow: 0 4px 15px rgba(71, 85, 105, 0.3);
			text-transform: none;
		}
		button:hover {
			transform: translateY(-2px);
			box-shadow: 0 8px 25px rgba(71, 85, 105, 0.4);
			background: linear-gradient(135deg, #334155 0%, #1e293b 100%);
		}
		button:active {
			transform: translateY(0);
		}
		button:active {
			transform: translateY(0);
		}
		button.secondary {
			background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%);
			color: #1a202c;
			box-shadow: 0 4px 12px rgba(0,0,0,0.08);
			border: 2px solid rgba(148, 163, 184, 0.3);
		}
		button.secondary:hover {
			background: #fff;
			box-shadow: 0 6px 20px rgba(100, 116, 139, 0.2);
			border-color: rgba(100, 116, 139, 0.5);
		}
		button:disabled {
			opacity: 0.5;
			cursor: not-allowed;
		}
		#timeline {
			height: 700px;
			border-radius: 8px;
			overflow: hidden;
			background: #fff;
		}
		.gantt-container {
			position: relative;
		}
		.gantt-controls {
			display: flex;
			gap: 10px;
			margin-bottom: 12px;
			flex-wrap: wrap;
			align-items: center;
		}
		.gantt-controls button {
			padding: 6px 12px;
			font-size: 13px;
		}
		.gantt-legend {
			display: flex;
			gap: 16px;
			margin-bottom: 12px;
			padding: 16px;
			background: rgba(255, 255, 255, 0.7);
			border: 1px solid rgba(15, 23, 42, 0.12);
			border-radius: 14px;
			flex-wrap: wrap;
			box-shadow: 0 12px 30px rgba(0,0,0,0.25);
		}
		.legend-item {
			display: flex;
			align-items: center;
			gap: 8px;
			font-size: 13px;
		}
		.legend-color {
			width: 20px;
			height: 20px;
			border-radius: 4px;
			border: 1px solid rgba(0,0,0,0.1);
		}
		.row {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 10px;
		}
		.small {
			font-size: 12px;
			color: #6b5b73;
			font-style: italic;
		}
		.status {
			margin-top: 16px;
			padding: 16px;
			border-radius: 12px;
			font-size: 14px;
			background: rgba(148, 163, 184, 0.1);
			border: 2px solid rgba(148, 163, 184, 0.3);
			color: #1a202c;
			font-weight: 500;
		}
		.status.error {
			background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(220, 38, 38, 0.1) 100%);
			border-color: rgba(239, 68, 68, 0.3);
			color: #991b1b;
		}
		.status.success {
			background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(22, 163, 74, 0.1) 100%);
			border-color: rgba(34, 197, 94, 0.3);
			color: #15803d;
		}
		.empty-state {
			text-align: center;
			padding: 60px 20px;
			color: #a0aec0;
		}
		.empty-state::before {
			content: 'üìÖ';
			font-size: 48px;
			display: block;
			margin-bottom: 12px;
		}
		/* –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–æ–≤ */
		.view-switcher {
			display: flex;
			gap: 8px;
		}
		.view-btn {
			padding: 10px 20px;
			font-size: 14px;
			border: 2px solid rgba(148, 163, 184, 0.3);
			background: rgba(255, 255, 255, 0.9);
			color: #64748b;
			border-radius: 10px;
			font-weight: 600;
			transition: all 0.3s;
			cursor: pointer;
		}
		.view-btn:hover {
			background: rgba(255, 255, 255, 1);
			color: #1a202c;
			border-color: rgba(100, 116, 139, 0.5);
		}
		.view-btn.active {
			background: linear-gradient(135deg, #475569 0%, #334155 100%);
			color: #fff;
			border-color: transparent;
			box-shadow: 0 4px 15px rgba(71, 85, 105, 0.3);
		}
		.schedule-view {
			min-height: 500px;
		}

		/* –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –≤–∏–¥ */
		.calendar-controls {
			display: flex;
			align-items: center;
			gap: 12px;
			margin-bottom: 16px;
		}
		.calendar-controls button {
			padding: 8px 16px;
		}
		.calendars-container {
			display: flex;
			flex-direction: column;
			gap: 24px;
		}
		.stage-calendar {
			margin-bottom: 24px;
		}
		.stage-calendar-title {
			font-family: 'Playfair Display', serif;
			font-size: 20px;
			font-weight: 600;
			color: #1a0a1a;
			margin-bottom: 16px;
			padding: 12px 16px;
			border-radius: 8px;
			display: flex;
			align-items: center;
			gap: 12px;
			background: rgba(255, 255, 255, 0.7);
			border: 2px solid rgba(184, 0, 42, 0.2);
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
		}
		.stage-calendar-title span {
			flex: 1;
		}
		.stage-calendar-color {
			width: 24px;
			height: 24px;
			border-radius: 4px;
			border: 2px solid rgba(0, 0, 0, 0.1);
		}
		.calendar-grid {
			display: grid;
			grid-template-columns: repeat(7, 1fr);
			gap: 8px;
		}
		.calendar-day {
			min-height: 80px;
			padding: 8px;
			border: 1px solid rgba(15, 23, 42, 0.12);
			border-radius: 12px;
			background: rgba(255, 255, 255, 0.95);
			transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
			box-shadow: 0 2px 8px rgba(2,6,23,0.06);
		}
		.calendar-day:hover {
			transform: translateY(-1px);
			box-shadow: 0 6px 18px rgba(2,6,23,0.12);
		}
		.calendar-day.weekend {
			background: rgba(99, 102, 241, 0.06);
			border-color: rgba(99, 102, 241, 0.15);
		}
		.calendar-day-header {
			font-weight: 600;
			font-size: 13px;
			margin-bottom: 8px;
			color: #334155;
			font-family: 'Playfair Display', serif;
		}
		.calendar-day-number {
			font-size: 18px;
			font-weight: 700;
			color: #0f172a;
			font-family: 'Playfair Display', serif;
		}
		.calendar-event {
			margin-top: 4px;
			padding: 6px 8px;
			border-radius: 8px;
			font-size: 11px;
			font-weight: 500;
			color: #fff;
			cursor: pointer;
			transition: transform 0.2s, box-shadow 0.2s;
			box-shadow: 0 6px 14px rgba(0,0,0,0.15);
		}
		.calendar-event:hover {
			transform: translateX(2px);
			box-shadow: 0 10px 20px rgba(0,0,0,0.22);
		}
		.calendar-event-time {
			font-size: 11px;
			opacity: 0.9;
			margin-bottom: 2px;
		}
		.calendar-event-title {
			font-weight: 600;
		}
		.calendar-event-stage {
			font-size: 10px;
			opacity: 0.8;
			margin-top: 2px;
		}
		.calendar-event.fixed {
			border: 2px solid rgba(255,255,255,0.9);
			box-shadow: 0 0 0 2px rgba(255,255,255,0.6) inset, 0 10px 22px rgba(0,0,0,0.25);
			position: relative;
		}
		.calendar-event.fixed::after {
			content: 'üìå';
			position: absolute;
			top: 2px;
			right: 4px;
			font-size: 10px;
		}
		.calendar-day.clickable {
			cursor: pointer;
		}
		.calendar-day.clickable:hover {
			background: rgba(184, 0, 42, 0.05);
		}
		.calendar-event.empty-slot {
			opacity: 0.7;
		}
		.calendar-event.empty-slot:hover {
			opacity: 1;
			background: rgba(128, 128, 128, 0.15) !important;
		}
		.calendar-event {
			position: relative;
		}
		.calendar-event.draggable {
			cursor: move;
		}
		.calendar-event.draggable:hover {
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
		}
		.calendar-event.droppable.drag-over {
			background: rgba(184, 0, 42, 0.2) !important;
			border-color: #b8002a !important;
		}
		.stage-calendar-tabs {
			display: flex;
			gap: 8px;
			margin-bottom: 16px;
			border-bottom: 2px solid rgba(184, 0, 42, 0.2);
		}
		.stage-calendar-tab {
			padding: 10px 20px;
			background: transparent;
			border: none;
			border-bottom: 3px solid transparent;
			cursor: pointer;
			font-weight: 600;
			color: #666;
			transition: all 0.3s;
			font-family: 'Playfair Display', serif;
		}
		.stage-calendar-tab:hover {
			color: #1a0a1a;
			background: rgba(184, 0, 42, 0.05);
		}
		.stage-calendar-tab.active {
			border-bottom-color: #b8002a;
			color: #1a0a1a;
		}

		/* –¢–∞–±–ª–∏—á–Ω—ã–π –≤–∏–¥ */
		.table-container {
			max-height: 600px;
			overflow-y: auto;
			border-radius: 8px;
			border: 1px solid #e2e8f0;
		}
		.schedule-table {
			width: 100%;
			border-collapse: collapse;
			background: #fff;
		}
		.schedule-table thead {
			background: linear-gradient(135deg, rgba(184, 0, 42, 0.1) 0%, rgba(212, 175, 55, 0.1) 100%);
			position: sticky;
			top: 0;
			z-index: 10;
		}
		.schedule-table th {
			padding: 8px 10px;
			text-align: left;
			font-weight: 600;
			color: #1a0a1a;
			border-bottom: 3px solid #d4af37;
			font-family: 'Playfair Display', serif;
			font-size: 14px;
		}
		.schedule-table td {
			padding: 8px 10px;
			border-bottom: 1px solid rgba(184, 0, 42, 0.1);
			color: #2d1b2d;
			font-size: 13px;
		}
		.schedule-table tbody tr:hover {
			background: rgba(212, 175, 55, 0.08);
		}
		.table-production {
			display: inline-block;
			padding: 4px 10px;
			border-radius: 6px;
			font-weight: 500;
			font-size: 13px;
			color: #fff;
		}

		/* –°—Ç–∏–ª–∏ –¥–ª—è vis-timeline */
		.vis-timeline {
			border: none;
		}
		.vis-item {
			border-radius: 6px;
			font-weight: 500;
			font-size: 13px;
		}
		.vis-item.vis-selected {
			box-shadow: 0 0 0 2px #4299e1;
		}

		/* –°—Ç–∏–ª–∏ –¥–ª—è —á–µ–∫–±–æ–∫—Å–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π */
		input[type="checkbox"] {
			width: 18px;
			height: 18px;
			cursor: pointer;
			accent-color: #475569;
			border: 2px solid rgba(100, 116, 139, 0.3);
			border-radius: 4px;
		}
		input[type="checkbox"]:checked {
			background-color: #64748b;
			border-color: #64748b;
		}
		input[type="checkbox"]:focus {
			outline: 2px solid rgba(100, 116, 139, 0.3);
			outline-offset: 2px;
		}
		#constraintsPanel label {
			padding: 10px 12px;
			border-radius: 8px;
			transition: background-color 0.2s;
			margin: 0;
		}
		#constraintsPanel label:hover {
			background-color: rgba(148, 163, 184, 0.1);
		}
		#constraintsPanel strong {
			font-family: 'Playfair Display', serif;
			color: #1a0a1a;
		}
		
		/* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π */
		#assignmentsModal {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.6);
			z-index: 1000;
			align-items: center;
			justify-content: center;
			backdrop-filter: blur(8px);
		}
		#assignmentsModal > div {
			background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%);
			border-radius: 24px;
			padding: 32px;
			max-width: 800px;
			width: 90%;
			max-height: 85vh;
			overflow-y: auto;
			box-shadow: 0 25px 70px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(255,255,255,0.1) inset;
			position: relative;
		}
		#closeAssignmentsModal {
			position: absolute;
			top: 16px;
			right: 16px;
			background: linear-gradient(135deg, #475569 0%, #334155 100%);
			border: none;
			border-radius: 50%;
			width: 36px;
			height: 36px;
			cursor: pointer;
			font-size: 20px;
			line-height: 1;
			color: white;
			transition: all 0.3s;
			box-shadow: 0 4px 12px rgba(71, 85, 105, 0.3);
		}
		#closeAssignmentsModal:hover {
			transform: rotate(90deg) scale(1.1);
			box-shadow: 0 6px 20px rgba(71, 85, 105, 0.4);
		}
		.modal-assignment-select {
			padding: 8px 12px;
			border: 2px solid rgba(148, 163, 184, 0.3);
			border-radius: 8px;
			font-size: 14px;
			background: white;
			transition: all 0.3s;
		}
		.modal-assignment-select:focus {
			outline: none;
			border-color: #64748b;
			box-shadow: 0 0 0 3px rgba(100, 116, 139, 0.1);
		}
		.modal-update-btn {
			padding: 8px 16px;
			background: linear-gradient(135deg, #475569 0%, #334155 100%);
			color: white;
			border: none;
			border-radius: 8px;
			cursor: pointer;
			font-size: 13px;
			font-weight: 600;
			transition: all 0.3s;
			box-shadow: 0 4px 12px rgba(71, 85, 105, 0.3);
		}
		.modal-update-btn:hover {
			transform: translateY(-2px);
			box-shadow: 0 6px 20px rgba(71, 85, 105, 0.4);
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="panel">
			<h2>–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</h2>
			
			<!-- –û—Å–Ω–æ–≤–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ -->
			<div class="main-tabs">
				<button class="main-tab-button active" data-main-tab="planner">üìã –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</button>
				<button class="main-tab-button" data-main-tab="schedule">üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
			</div>

			<!-- –í–∫–ª–∞–¥–∫–∞ "–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è" -->
			<div id="main-tab-planner" class="main-tab-content active">
				<!-- –ü–æ–¥–≤–∫–ª–∞–¥–∫–∏ -->
				<div class="sub-tabs">
					<button class="sub-tab-button active" data-sub-tab="productions">üé≠ –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∏</button>
					<button class="sub-tab-button" data-sub-tab="stages">üèõÔ∏è –°—Ü–µ–Ω—ã</button>
					<button class="sub-tab-button" data-sub-tab="timeslots">‚è∞ –¢–∞–π–º—Å–ª–æ—Ç—ã</button>
					<button class="sub-tab-button" data-sub-tab="people">üë• –õ—é–¥–∏</button>
					<button class="sub-tab-button" data-sub-tab="roles">üé™ –†–æ–ª–∏</button>
					<button class="sub-tab-button" data-sub-tab="person-roles">üîó –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–ª–µ–π</button>
					<button class="sub-tab-button" data-sub-tab="constraints">‚öôÔ∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è</button>
					<button class="sub-tab-button" data-sub-tab="actions">‚ñ∂Ô∏è –î–µ–π—Å—Ç–≤–∏—è</button>
				</div>

				<!-- –ü–æ–¥–≤–∫–ª–∞–¥–∫–∞ "–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∏" -->
				<div id="sub-tab-productions" class="sub-tab-content active">
					<div style="max-height: calc(100vh - 400px); overflow-y: auto;">
						<div id="productionsList" style="margin-bottom: 12px;"></div>
						<button id="addProduction" style="width: 100%;">+ –î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å—Ç–∞–Ω–æ–≤–∫—É</button>
					</div>
				</div>

				<!-- –ü–æ–¥–≤–∫–ª–∞–¥–∫–∞ "–°—Ü–µ–Ω—ã" -->
				<div id="sub-tab-stages" class="sub-tab-content">
					<div style="max-height: calc(100vh - 400px); overflow-y: auto;">
						<div id="stagesList"></div>
						<button id="addStage" style="width: 100%; margin-top: 12px;">+ –î–æ–±–∞–≤–∏—Ç—å —Å—Ü–µ–Ω—É</button>
					</div>
				</div>

				<!-- –ü–æ–¥–≤–∫–ª–∞–¥–∫–∞ "–¢–∞–π–º—Å–ª–æ—Ç—ã" -->
				<div id="sub-tab-timeslots" class="sub-tab-content">
					<div style="max-height: calc(100vh - 400px); overflow-y: auto;">
						<div id="timeslotsList"></div>
						<div class="small" style="margin-top: 12px;">–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∞–π–º—Å–ª–æ—Ç–∞ —É–∫–∞–∂–∏—Ç–µ —Å—Ü–µ–Ω—É, –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞</div>
					</div>
				</div>

				<!-- –ü–æ–¥–≤–∫–ª–∞–¥–∫–∞ "–õ—é–¥–∏" -->
				<div id="sub-tab-people" class="sub-tab-content">
					<div style="max-height: calc(100vh - 400px); overflow-y: auto;">
						<div id="peopleList" style="margin-bottom: 12px;"></div>
						<button id="addPerson" style="width: 100%;">+ –î–æ–±–∞–≤–∏—Ç—å —á–µ–ª–æ–≤–µ–∫–∞</button>
					</div>
				</div>

				<!-- –ü–æ–¥–≤–∫–ª–∞–¥–∫–∞ "–†–æ–ª–∏" -->
				<div id="sub-tab-roles" class="sub-tab-content">
					<div style="max-height: calc(100vh - 400px); overflow-y: auto;">
						<div id="rolesList" style="margin-bottom: 12px;"></div>
						<button id="addRole" style="width: 100%;">+ –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å</button>
					</div>
				</div>

				<!-- –ü–æ–¥–≤–∫–ª–∞–¥–∫–∞ "–ù–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–ª–µ–π" -->
				<div id="sub-tab-person-roles" class="sub-tab-content">
					<div style="max-height: calc(100vh - 400px); overflow-y: auto;">
						<div id="personProductionRolesList" style="margin-bottom: 12px;"></div>
						<div class="small" style="margin-top: 12px;">–£–∫–∞–∂–∏—Ç–µ, –∫—Ç–æ –º–æ–∂–µ—Ç –∏–≥—Ä–∞—Ç—å –∫–∞–∫—É—é —Ä–æ–ª—å –≤ –∫–∞–∫–æ–º —Å–ø–µ–∫—Ç–∞–∫–ª–µ</div>
					</div>
				</div>

				<!-- –ü–æ–¥–≤–∫–ª–∞–¥–∫–∞ "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è" -->
				<div id="sub-tab-constraints" class="sub-tab-content">
					<div id="constraintsPanel">
						<div style="margin-bottom: 20px;">
							<strong style="color: #2d1b2d; font-size: 16px; display: block; margin-bottom: 12px; font-family: 'Playfair Display', serif;">–ñ—ë—Å—Ç–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong>
							<div style="display: flex; flex-direction: column; gap: 8px;">
								<!-- –°–∫—Ä—ã—Ç—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω—ã -->
								<input type="checkbox" id="constraint_one_production_per_timeslot" checked style="display: none;">
								<input type="checkbox" id="constraint_exact_shows_count" checked style="display: none;">
								<label style="display: flex; align-items: center; cursor: pointer;">
									<input type="checkbox" id="constraint_consecutive_shows" checked style="width: auto; margin-right: 8px; margin-top: 0;">
									<span>–í—Å–µ –ø–æ–∫–∞–∑—ã –æ–¥–Ω–æ–≥–æ —Å–ø–µ–∫—Ç–∞–∫–ª—è –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –ø–æ–¥—Ä—è–¥</span>
								</label>
								<label style="display: flex; align-items: center; cursor: pointer;">
									<input type="checkbox" id="constraint_monday_off" checked style="width: auto; margin-right: 8px; margin-top: 0;">
									<span>–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ ‚Äî –≤—ã—Ö–æ–¥–Ω–æ–π –¥–µ–Ω—å</span>
								</label>
								<label style="display: flex; align-items: center; cursor: pointer;">
									<input type="checkbox" id="constraint_weekend_always_show" checked style="width: auto; margin-right: 8px; margin-top: 0;">
									<span>–í –≤—ã—Ö–æ–¥–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–ø–µ–∫—Ç–∞–∫–ª—å</span>
								</label>
							</div>
						</div>
						<div>
							<strong style="color: #2d1b2d; font-size: 16px; display: block; margin-bottom: 12px; font-family: 'Playfair Display', serif;">–ú—è–≥–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</strong>
							<div style="display: flex; flex-direction: column; gap: 8px;">
								<label style="display: flex; align-items: center; cursor: pointer;">
									<input type="checkbox" id="constraint_break_between_different_shows" checked style="width: auto; margin-right: 8px; margin-top: 0;">
									<span>–ü–µ—Ä–µ—Ä—ã–≤ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–µ–∫—Ç–∞–∫–ª—è–º–∏</span>
								</label>
								<label style="display: flex; align-items: center; cursor: pointer;">
									<input type="checkbox" id="constraint_weekend_priority_bonus" checked style="width: auto; margin-right: 8px; margin-top: 0;">
									<span>–ë–æ–Ω—É—Å –¥–ª—è —Å–ø–µ–∫—Ç–∞–∫–ª–µ–π —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã–µ</span>
								</label>
							</div>
						</div>
					</div>
				</div>

				<!-- –ü–æ–¥–≤–∫–ª–∞–¥–∫–∞ "–î–µ–π—Å—Ç–≤–∏—è" -->
				<div id="sub-tab-actions" class="sub-tab-content">
					<div style="display: flex; flex-direction: column; gap: 16px;">
						<div style="padding: 12px; background: rgba(255,255,255,0.5); border-radius: 8px; border: 1px solid rgba(148, 163, 184, 0.3);">
							<label style="display: block; margin-bottom: 8px; font-weight: 600; color: #1a202c;">API Base URL:</label>
							<input type="text" id="apiBaseUrlInput" placeholder="https://your-api.onrender.com" style="width: 100%; padding: 8px 12px; border: 2px solid rgba(148, 163, 184, 0.3); border-radius: 6px; font-size: 14px; margin-bottom: 8px;">
							<button id="btnSaveApiUrl" style="width: 100%; padding: 8px; background: linear-gradient(135deg, #475569 0%, #334155 100%); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å API URL</button>
							<div class="small" style="margin-top: 8px;">–£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ API —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, https://your-api.onrender.com)</div>
						</div>
						<div>
							<button id="btnCreate" style="width: 100%; margin-bottom: 12px;">–°–æ–∑–¥–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π</button>
							<div class="small">–°–æ–∑–¥–∞—ë—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö</div>
						</div>
						<div>
							<button id="btnSolve" class="secondary" style="width: 100%; margin-bottom: 12px;">–°–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
							<div class="small">–ó–∞–ø—É—Å–∫–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —Å —É—á—ë—Ç–æ–º –≤–∫–ª—é—á—ë–Ω–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π</div>
						</div>
						<div>
							<button id="btnClearSchedule" style="width: 100%; margin-bottom: 12px; background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);">–û—á–∏—Å—Ç–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
							<div class="small">–ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ: —É–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Å–ø–µ–∫—Ç–∞–∫–ª–∏, –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–∞–π–º—Å–ª–æ—Ç—ã, —É–¥–∞–ª—è–µ—Ç –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏—è</div>
						</div>
						<div class="status" id="status" style="margin-top: 8px;"></div>
					</div>
				</div>
			</div>

			<!-- –í–∫–ª–∞–¥–∫–∞ "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ" -->
			<div id="main-tab-schedule" class="main-tab-content">
				<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
					<h3 style="margin: 0; font-family: 'Playfair Display', serif; color: #1a202c;">–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</h3>
					<div class="view-switcher">
						<button id="btnViewCalendar" class="view-btn active" data-view="calendar">üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
						<button id="btnViewTable" class="view-btn" data-view="table">üìã –¢–∞–±–ª–∏—Ü–∞</button>
						<button id="btnViewAssignments" class="view-btn" data-view="assignments">üë• –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è</button>
					</div>
				</div>

				<!-- –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –≤–∏–¥ -->
				<div id="calendarView" class="schedule-view">
					<div id="calendarControls" class="calendar-controls">
						<button id="btnPrevMonth">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü</button>
						<h3 id="calendarMonth" style="margin: 0; flex: 1; text-align: center;"></h3>
						<button id="btnNextMonth">–°–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü ‚Üí</button>
					</div>
					<div style="padding: 12px; background: rgba(212, 175, 55, 0.1); border: 2px solid rgba(212, 175, 55, 0.2); border-radius: 8px; margin-bottom: 16px; font-size: 13px; color: #2d1b2d;">
						<strong>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–∞–π–º—Å–ª–æ—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç–∞–π–º—Å–ª–æ—Ç (–¥–∞–∂–µ –ø—É—Å—Ç–æ–π, –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ "–°–≤–æ–±–æ–¥–Ω–æ") –∏–ª–∏ –Ω–∞ —è—á–µ–π–∫—É –∫–∞–ª–µ–Ω–¥–∞—Ä—è, —á—Ç–æ–±—ã –∑–∞–∫—Ä–µ–ø–∏—Ç—å —Å–ø–µ–∫—Ç–∞–∫–ª—å. –ó–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ —Å–ø–µ–∫—Ç–∞–∫–ª–∏ (–æ—Ç–º–µ—á–µ–Ω—ã üìå) –±—É–¥—É—Ç —É—á—Ç–µ–Ω—ã –ø—Ä–∏ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.
					</div>
					<div id="calendarsContainer"></div>
				</div>

				<!-- –¢–∞–±–ª–∏—á–Ω—ã–π –≤–∏–¥ -->
				<div id="tableView" class="schedule-view" style="display: none;">
					<div class="table-container">
						<table id="scheduleTable" class="schedule-table">
							<thead>
								<tr>
									<th>–î–∞—Ç–∞</th>
									<th>–í—Ä–µ–º—è</th>
									<th>–°—Ü–µ–Ω–∞</th>
									<th>–°–ø–µ–∫—Ç–∞–∫–ª—å</th>
									<th>–ù–∞–∑–Ω–∞—á–µ–Ω–∏—è</th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>
					</div>
				</div>

				<!-- –í–∏–¥ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π -->
				<div id="assignmentsView" class="schedule-view" style="display: none;">
					<div class="table-container">
						<table id="assignmentsTable" class="schedule-table">
							<thead>
								<tr>
									<th>–î–∞—Ç–∞</th>
									<th>–í—Ä–µ–º—è</th>
									<th>–°—Ü–µ–Ω–∞</th>
									<th>–°–ø–µ–∫—Ç–∞–∫–ª—å</th>
									<th>–†–æ–ª—å</th>
									<th>–ß–µ–ª–æ–≤–µ–∫</th>
									<th>–î–µ–π—Å—Ç–≤–∏—è</th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>
					</div>
				</div>

				<div id="emptyState" class="empty-state">
					–°–æ–∑–¥–∞–π—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π –∏ —Å–æ—Å—Ç–∞–≤—å—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
				</div>
			</div>
		</div>
	</div>

	<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π -->
	<div id="assignmentsModal">
		<div>
			<button id="closeAssignmentsModal">√ó</button>
			<h2 style="margin: 0 0 20px; font-family: 'Playfair Display', serif; color: #0f172a; border-bottom: 3px solid #d4af37; padding-bottom: 12px;">–ù–∞–∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Å–ø–µ–∫—Ç–∞–∫–ª—å</h2>
			<div id="assignmentsModalContent"></div>
		</div>
	</div>

	<script>
		// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –≤–∫–ª–∞–¥–∫–∞–º–∏
		document.querySelectorAll('.main-tab-button').forEach(button => {
			button.addEventListener('click', () => {
				const tabName = button.dataset.mainTab;
				
				// –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
				document.querySelectorAll('.main-tab-button').forEach(btn => btn.classList.remove('active'));
				document.querySelectorAll('.main-tab-content').forEach(content => content.classList.remove('active'));
				
				// –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
				button.classList.add('active');
				document.getElementById(`main-tab-${tabName}`).classList.add('active');
			});
		});

		// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–≤–∫–ª–∞–¥–∫–∞–º–∏
		document.querySelectorAll('.sub-tab-button').forEach(button => {
			button.addEventListener('click', () => {
				const tabName = button.dataset.subTab;
				
				// –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
				document.querySelectorAll('.sub-tab-button').forEach(btn => btn.classList.remove('active'));
				document.querySelectorAll('.sub-tab-content').forEach(content => content.classList.remove('active'));
				
				// –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
				button.classList.add('active');
				document.getElementById(`sub-tab-${tabName}`).classList.add('active');
			});
		});

		// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–º–∏ —Å–µ–∫—Ü–∏—è–º–∏ (–µ—Å–ª–∏ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
		function toggleSection(header) {
			const section = header.parentElement;
			section.classList.toggle('collapsed');
		}
	</script>
	<script src="app.js"></script>
</body>
</html>


